!function(n){"use strict";var s="mSwitch",i={colorClass:"m_switch_color",onRendered:function(){},onRender:function(t){},onTurnOn:function(t){return!0},onTurnOff:function(t){return!0}};function c(t,e){this.elem=t,this.$elem=n(t),this.settings=n.extend({},i,e),this._defaults=i,this._name=s,this.init()}n.extend(c.prototype,{init:function(){var t,e,s=this;s.$elem&&s.$elem.is(":checkbox")&&(s.$elem.addClass("m_switch_check"),t=n("<div class='m_switch'/>"),e=n("<b class='m_switch_b m_switch_element'/>"),s.$elem.wrap(t),e.insertAfter(s.$elem),s.$elem.is(":checked")?s.turnOn(s.$elem):s.turnOff(s.$elem),s.settings.onRender&&"function"==typeof s.settings.onRender&&s.settings.onRender(s.$elem),s.$elem.change(function(){s.$elem.is(":checked")?(s.settings.onTurnOn&&"function"==typeof s.settings.onTurnOn&&s.settings.onTurnOn(n(this)),s.turnOn(n(this))):s.$elem.is(":checked")||(s.settings.onTurnOff&&"function"==typeof s.settings.onTurnOff&&s.settings.onTurnOff(n(this)),s.turnOff(n(this)))}))},turnOn:function(t){0<t.parent(".m_switch").length&&(t.parent(".m_switch").hasClass(this.settings.colorClass)||t.parent(".m_switch").addClass(this.settings.colorClass)),0<t.next("b.m_switch_b").length&&(t.next("b.m_switch_b").hasClass("m_switch_checked")||t.next("b.m_switch_b").addClass("m_switch_checked")),t.parent(".m_switch").hasClass(this.settings.colorClass)&&t.next("b.m_switch_b").hasClass("m_switch_checked")&&t.attr("checked",!0).prop("checked",!0)},turnOff:function(t){0<t.parent(".m_switch").length&&t.parent(".m_switch").hasClass(this.settings.colorClass)&&t.parent(".m_switch").removeClass(this.settings.colorClass),0<t.next("b.m_switch_b").length&&t.next("b.m_switch_b").hasClass("m_switch_checked")&&t.next("b.m_switch_b").removeClass("m_switch_checked"),t.parent(".m_switch").hasClass(this.settings.colorClass)||t.next("b.m_switch_b").hasClass("m_switch_checked")||t.removeAttr("checked",!1).prop("checked",!1)},isOn:function(t){var e=!1;return t.is(":checked")&&(e=!0),e},options:function(t){"object"===n.type(t)&&n.extend(!0,this.settings,t)}}),n.fn[s]=function(t){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){n.data(this,"plugin_"+s)?n.isFunction(c.prototype[t])&&n.data(this,"plugin_"+s)&&n.data(this,"plugin_"+s)[t].apply(n.data(this,"plugin_"+s),e):(n.data(this,"plugin_"+s,new c(this,t)),t&&t.onRendered&&"function"==typeof t.onRendered&&t.onRendered(n(this)))})}}(jQuery);