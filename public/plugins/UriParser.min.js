!function(){"use strict";var i,o,s,c;function a(t){var r={},n=!1,e=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(t)&&(n=t,e++);for(;e<i;e++){!function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n&&"[object Object]"===Object.prototype.toString.call(t[e])?r[e]=a(!0,r[e],t[e]):r[e]=t[e])}(arguments[e])}return r}Object.keys||(Object.keys=(i=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),c=(s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("function"!=typeof t&&("object"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,r,n=[];for(e in t)i.call(t,e)&&n.push(e);if(o)for(r=0;r<c;r++)i.call(t,s[r])&&n.push(s[r]);return n})),Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n});var l={isString:function(t){return t&&"[object String]"===Object.prototype.toString.call(t)},isArray:function(t){return t&&"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return t&&"[object Object]"===Object.prototype.toString.call(t)},isFunction:function(t){return t&&"[object Function]"===Object.prototype.toString.call(t)},isDefined:function(t){return null!=t},isset:function(t){return void 0!==t},isNull:function(t){return null===t},encodeUri:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},decodeUri:function(t){return decodeURIComponent(t.replace(/\+/g," "))},uniqueArray:function(t){return t.filter(function(t,e,r){return r.indexOf(t)===e})},definedArray:function(t){var e=this;return t.filter(function(t){return e.isDefined(t)})},toObjectRecursively:function(t,e,r,n){var i,o,s={};if(n=!(!1===n),e=!0===e,this.isObject(t))for(a in t)t.hasOwnProperty(a)&&(s[a]=this.toObjectRecursively(t[a],e,r,n));else if(this.isArray(t)){!0===r&&(t=this.definedArray(t)),e&&(t=this.uniqueArray(t)),i=t.length;for(var c=[],a=0;a<i;++a)this.isObject(t[a])||this.isArray(t[a])?c[a]=this.toObjectRecursively(t[a],e,r,n):(!0===(o=t[a])?o=1:!1===o&&(o=0),c[a]=n?this.encodeUri(o):this.decodeUri(o));s=c}else!0===(o=t)?o=1:!1===o&&(o=0),s=n?this.encodeUri(o):this.decodeUri(o);return s},objSize:function(t){var e,r=0;for(e in t)t.hasOwnProperty(e)&&++r;return r}},u=function(t,e,r,n,i){var o;if(l.isString(e)){for(n=!0===n,i=!0===i,e=e.split(".");1<e.length;)o=e.shift(),l.isObject(t[o])||(t[o]?t[o]={0:t[o]}:t[o]={}),t=t[o];var s=e.shift(),c=l.toObjectRecursively(r,i,!0);t[s]&&!n?l.isObject(t[s])&&l.isObject(c)?t[s]=a(!0,t[s],c):l.isObject(t[s])||l.isObject(c)?t[s]=c:(t[s]=[].concat(t[s],c),i&&(t[s]=l.uniqueArray(t[s]))):t[s]=c}},h=function(t,e,r,n,i){var o,s;if(r=r||null,n=!0===n,!l.isString(e))return l.toObjectRecursively(t,!0===i,null,!n);for(e=e.split(".");1<e.length;){if(o=e.shift(),!l.isDefined(t[o]))return r;t=t[o]}return(s=t[e.shift()])?l.toObjectRecursively(s,!0===i,null,!n):r},f=function(t,e,r,n){var i,o,s;if(l.isString(e)){for(n=!0===n,e=e.split(".");1<e.length;){if(i=e.shift(),!l.isDefined(t[i]))return;t=t[i]}if(o=e.shift(),r){if(n&&r!==t[o]||!n&&r!=t[o])if(l.isObject(t[o])){for(s in t[o])t[o].hasOwnProperty(s)&&(n&&t[o][s]===r||!n&&t[o][s]==r)&&delete t[o][s];0===l.objSize(t[o])&&delete t[o]}else if(l.isArray(t[o]))for(var c=t[o].length,a=0;a<c&&l.isDefined(t[o][a]);++a)(n&&t[o][a]===r||!n&&t[o][a]==r)&&(t[o][a].splice(a,1),--a)}else delete t[o]}},r=function(t,e,r){var n,i,o;if(!l.isString(e))return!1;for(e=e.split(".");1<e.length;){if(n=e.shift(),!l.isDefined(t[n]))return!1;t=t[n]}return o=!0,i=e.shift(),l.isDefined(t[i])||(o=!1),!0===r&&l.isNull(t[i])&&(o=!0),o};function t(){this.regexp={removeQuestionMark:/^\?/,slashToDot:/[\[]([^\]\[]*)[\]]/g,dotToSlash:/[.]([\w]*)/g},this.obj={},this.search="?",this.numberedQuery=!1,this.changeStateFn=function(){},this.canCallChangeState=!0;function h(t,e,r){return r=!0===r,l.isNull(e)||l.isObject(e)||l.isArray(e)?r?l.encodeUri(t):l.decodeUri(t):r?l.encodeUri(t)+"="+l.encodeUri(e):l.decodeUri(t)+"="+l.decodeUri(e)}this.querySearchMaker=function(t,r,n,i){var e,o,s,c,a=this,u=[];if(n=!0===n,i=!0===i,l.isObject(t))for(e in t)t.hasOwnProperty(e)&&(o=r?r+"["+e+"]":e,s=t[e],c=h(o,s,n),u.push(l.isNull(s)||!l.isObject(s)&&!l.isArray(s)?c:a.querySearchMaker(s,o,n,i)));else l.isArray(t)?r&&t.forEach(function(t,e){c=h(o=i?r+"["+e+"]":r+"[]",s=t,n),u.push(!l.isNull(s)&&l.isObject(s)?a.querySearchMaker(s,o,n,i):c)}):r&&(c=h(o=r,s=t,n),u.push(c));return u.join("&")},this.init=function(){var t=location.search.replace(this.regexp.removeQuestionMark,"");t&&(this.parse(t),this.updateSearch())},this.init()}window.UriParser=(t.prototype=a(t.prototype,{parse:function(t,e){var r,n,i,o,s,c,a=this;if(!l.isString(t))return a;if(!(t=t.replace(a.regexp.removeQuestionMark,"")))return a;for(!(a.canCallChangeState=!1)===e&&a.clear(),n=(i=t.split("&")).length,r=0;r<n;++r)s=(o=i[r].split("="))[0].replace(a.regexp.slashToDot,function(t,e){return e.length?"."+e:e}),!0===(c=o[1])?c=1:!1===c&&(c=0),a.push(s,c||null);return a.changeStateFn.apply(this,[]),a.canCallChangeState=!0,a},push:function(t,e,r,n){return u(this.obj,t,e,r,n),this.canCallChangeState&&this.changeStateFn.apply(this,[]),this},pushObj:function(t){var e,r=this;if(!l.isObject(t))return r;for(e in t)t.hasOwnProperty(e)&&r.push(e,t[e]);return r.canCallChangeState&&r.changeStateFn.apply(this,[]),r},pushObjOnly:function(t){var e=this;return l.isObject(t)&&(e.canCallChangeState=!1,e.obj=l.toObjectRecursively(t),e.changeStateFn.apply(this,[]),e.canCallChangeState=!0),e},clear:function(t,e,r){var n=this;return t?f(n.obj,t,e,r):n.obj={},n.canCallChangeState&&n.changeStateFn.apply(this,[]),n},has:function(t,e){return!!t&&r(this.obj,t,e)},get:function(t,e,r,n){return n=!0===n,h(this.obj,t,e,!n,r)},query:function(t,e,r,n){return r=!0===r,n=!(!1===n),"?"+this.querySearchMaker(t?h(this.obj,t,{},!r,e):this.obj,t?t.replace(this.regexp.dotToSlash,"[$1]"):null,r,n)},onStateChange:function(t){return l.isFunction(t)&&(this.changeStateFn=t),this},pushState:function(t){var e=this;return t=t&&l.isObject(t)?t:{},e.updateSearch(),t.turbolinks=!0,t.url=e.search,"?"===e.search||history.pushState(t,"",e.search),e},replaceState:function(t){return t=t&&l.isObject(t)?t:{},this.updateSearch(),history.replaceState(t,"",this.search),this},updateSearchWithNumberedQuery:function(t){return this.numberedQuery=!0===t,this},updateSearch:function(){return this.numberedQuery?this.search=this.query(null,!0,!1,!0):this.search=this.query(null,!0,!1,!1),this}}),t)}();